# microservice-streaming
Описание проекта

diplom-group25 - это учебный проект на Spring Boot, состоит из 9 микросервисов, представляет собой социальную сеть.
<br> Мною реализовано 4 микросервиса, один из них - microservice-streaming.
<br> Ссылка на стенд: http://130.61.44.151/login

<br> microservice-streaming отвечает за следующий функционал:
<br> - работа с входящими сообщениями диалога (получение сообщения от frontend-service через WebSocketSession, пересылка полученного сообщения в microservice-dialog с помощью Apache Kafka)
<br> - работа с исходящими сообщениями диалога (получение уведомления о полученном сообщении от microservice-dialog с помощью Apache Kafka, перенаправление сообщения во frontend-service через WebSocketSession для трансляции сообщения пользователю, при условии, что он - онлайн, и у него открыт активный диалог)
<br> - работа с нотификациями о сообщениях/публикациях/комментариях/днях рождения/заявках в друзья (отправка нотификации, полученной от соответствующего сервиса, во frontend-service через WebSocketSession для трансляции пользователю)
<br> - работа со статусом пользователя онлайн/офлайн (меняется при создании/завершении WebSocketSession)

Сервис упакован в докер-контейнер.

```
docker push skillgroup25/microservice-streaming
```

<br>Порт сервиса: 8080
<br>Spring Security на Jwt-токенах (передается в headers)
<br>В проекте используется обычный WebSocket (без STOMP) с использованием TextWebSocketHandler, аутентификация клиента происходит через Cookie (подключен дополнительный фильтр в Security, он "вытаскивает" jwt-токен из Cookie и "перекладывает" его в headers)
<br>В проекте также используется `Lombok` для упрощения процесса разработки и снижения количества кода.
<br>Обработка входящий сообщений `Apache Kafka` реализована в асинхронном режиме с помощью `ThreadPoolTaskExecutor`
